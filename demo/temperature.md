# 华氏温度与摄氏温度转换

## 问题

在华氏温度和摄氏度之间转换温度。

## 分析

华氏温度：把纯水的冰点温度定为32 ℉，把标准大气压下水的沸点温度定为212℉，中间分为180等份，每一等份代表1度。

摄氏温度：标准大气压下冰的熔点为0摄氏度，水的沸点为100摄氏度。

因此得出：

> F = 32 + C * 1.8

> C = (F - 32) * 5 / 9

## 代码

```rust
fn main() {
    println!("100℉转换后是{}℃", temperature("C",100.0));
    println!("100℃转换后是{}℉", temperature("F",100.0));
}

//--摄氏度转华氏度
fn c2f(c:f64) -> f64 {
    let f = c * 1.8 + 32.0;//--计算华氏温度
    (f * 100.0).round() / 100.0//--保留2位小数，四舍五入
}
//--华氏度转摄氏度
fn f2c(f:f64) -> f64 {
    let c = (f - 32.0) * 5.0 / 9.0;//--计算摄氏温度
    (c * 100.0).round() / 100.0//--保留2位小数，四舍五入
}

fn temperature(target:&str, n:f64) -> f64 {
    if target == "C" {
        f2c(n)
    } else {
        c2f(n)
    }
}
```

> 关于浮点数保留2位小数：
>
> 现在只想到乘以100，四舍五入取整，然后再除以100