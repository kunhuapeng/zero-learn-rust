# 语句与表达式

## 概述

语句（statement）指那些执行操作但不返回值得指令；

表达式（expression）指会进行计算并产生一个值作为结果的指令。

| 类型              | 结尾                     | 返回                        |
| ----------------- | ------------------------ | --------------------------- |
| 语句 statement    | 分号; （一句话要有结尾） | 无返回值 （只是一句话）     |
| 表达式 expression | 无结尾                   | 返回一个值 （表达一个结果） |

rust只有两种语句：`声明语句`，`表达式语句`。其他都是`表达式`。

## 语句

> 声明语句：用于声明各种语言项，包括变量、静态变量、常量、结构体、函数等，以及通过extern和use关键字引入包和模块。

> 表达式语句：特指以分号结尾的表达式。此类表达式求值结果将会被舍弃，并总是返回单元类型（）。单元类型拥有唯一的值，就是它本身。单元类型的概念来自OCmal，他表示“没什么特殊的价值”。将单元值作为函数返回值。就表示该函数无返回值，通常，无返回值的函数不需要在函数签名中指定返回类型。

### 声明语句

1.变量声明语句。主要是指`let`语句，如:

```rust
let a = 8;
let b: Vec<f64> = Vec::new();
let (a, c) = ("hi", false);
```

由于let是语句，所以不能将let语句赋给其他值。如下形式是错误的：

```rust
let b = (let a = 8);
```

2.Item声明。是指函数（function）、结构体（structure）、类型别名（type）、静态变量（static）、特质（trait）、实现（implementation）或模块（module）的声明。这些声明可以嵌套在任意块（block）中。

### 表达式语句

表达式语句，由一个表达式和一个分号组成，即在表达式后面加一个分号就将一个表达式转变为了一个语句。

## 表达式

表达式会计算出某个值来作为结果。

*调用函数* 是表达式，*调用宏* 是表达式，我们用来创建新作用域的 *花括号（`{}`）* 也是表达式。

### 代码块表达式

代码块也是表达式，所以它们可以在赋值中使用。代码块的最后一条表达式将赋值给位置表达式。需要注意的是，如果代码块最后一条表达式结尾处有分号，那么返回值将变成 ()。

```rust
fn main() {
    let x = 5u32;

    let y = {
        let x_squared = x * x;
        let x_cube = x_squared * x;

        // 最终的结果将赋值给 y
        x_cube + x_squared + x
    };

    let z = {
        // 由于有分号，所以将单元类型赋值给 z
        2 * x;
    };

    println!("x is {:?}", x);
    println!("y is {:?}", y);
    println!("z is {:?}", z);
}
```

